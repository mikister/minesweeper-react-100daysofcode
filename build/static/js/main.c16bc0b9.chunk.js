(this["webpackJsonpminesweeper-react-100daysofcode"]=this["webpackJsonpminesweeper-react-100daysofcode"]||[]).push([[0],{16:function(e,t,n){e.exports=n(30)},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),s=n(14),c=n.n(s),r=(n(21),n(4)),i=n.n(r),o=n(15),u=n(10),m=n(5),h=n(6),f=n(8),d=n(7),p=n(9),v=(n(23),n(24),n(2)),b=n(3),g=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"onCellClick",value:function(){this.props.cellClick(this.props.cellIndex)}},{key:"onCellFlag",value:function(e){this.props.cellFlag(this.props.cellIndex),e.preventDefault()}},{key:"renderContent",value:function(){return this.props.flaged?l.a.createElement(v.a,{icon:b.d}):""===this.props.content?null:"b"===this.props.content?l.a.createElement(v.a,{icon:b.b}):l.a.createElement("span",null,this.props.content)}},{key:"render",value:function(){return l.a.createElement("div",{className:"cell "+(this.props.revealed?"cell--revealed ":"")+(this.props.flaged?"cell--flaged ":""),onClick:this.onCellClick.bind(this),onContextMenu:this.onCellFlag.bind(this)},this.renderContent())}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).setAsyncState=function(e){return new Promise((function(t){return n.setState(e,(function(){return t()}))}))},n.cellClick=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,l,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.contentGenerated){e.next=4;break}return e.next=3,n.generateCellContents(t);case 3:n.setState({contentGenerated:!0});case 4:if(!1!==n.state.cellsRevealed[t]||!1!==n.state.cellsFlaged[t]){e.next=12;break}return(a=n.state.cellsRevealed)[t]=!0,e.next=9,n.setAsyncState({cellsRevealed:a});case 9:n.checkCell(t),e.next=13;break;case 12:!0===n.state.cellsRevealed[t]&&""!==n.state.cellContents[t]&&(l=n.getNeighboringCells(t),s=Object(o.a)(l),c=0,l.forEach((function(e){if(n.state.cellsFlaged[e]&&c++,n.state.cellsFlaged[e]||n.state.cellsRevealed[e])for(var t=0;t<s.length;t++)s[t]===e&&s.splice(t,1)})),c===parseInt(n.state.cellContents[t])&&s.forEach((function(e){n.cellClick(e)})));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.checkCell=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"b"===n.state.cellContents[t]?n.gameOver():""===n.state.cellContents[t]&&n.getNeighboringCells(t).forEach((function(e){"b"!==n.state.cellContents[e]&&n.cellClick(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setDifficulty=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setAsyncState({bombCount:t,menuOpen:!1});case 2:n.resetGame();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={cellContents:[],cellsRevealed:[],cellsFlaged:[],bombCount:30,contentGenerated:!1,gameOver:!1,menuOpen:!1,colsNum:10,rowsNum:18},n.gridRef=l.a.createRef(),n}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.rowsNum*this.state.colsNum;this.gridRef.current.style.setProperty("--larger-dimension",this.state.rowsNum),this.gridRef.current.style.setProperty("--smaller-dimension",this.state.colsNum),this.setState({cellContents:Array(e).fill(""),cellsRevealed:Array(e).fill(!1),cellsFlaged:Array(e).fill(!1)})}},{key:"getNeighboringCells",value:function(e){var t=[],n=this.state.rowsNum*this.state.colsNum,a=e-this.state.colsNum,l=e+this.state.colsNum;return a>0&&(t.push(a),(e+1)%this.state.colsNum!==1&&t.push(a-1),(e+1)%this.state.colsNum!==0&&t.push(a+1)),(e+1)%this.state.colsNum!==1&&t.push(e-1),(e+1)%this.state.colsNum!==0&&t.push(e+1),l<n&&(t.push(l),(e+1)%this.state.colsNum!==1&&t.push(l-1),(e+1)%this.state.colsNum!==0&&t.push(l+1)),t}},{key:"renderGrid",value:function(){for(var e=[],t=0;t<this.state.colsNum*this.state.rowsNum;t++)e.push(l.a.createElement(g,{cellClick:this.cellClick.bind(this),cellFlag:this.cellFlag.bind(this),content:this.state.cellContents[t],revealed:this.state.cellsRevealed[t],flaged:this.state.cellsFlaged[t],cellIndex:t,key:t}));return e}},{key:"generateCellContents",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.state.rowsNum*this.state.colsNum,a=0,l=Array(n).fill(""),s=[],c=function(){var c=Math.floor(Math.random()*n);if("b"!==l[c])if(null===t)l[c]="b",a++;else{if(c===t)return"continue";if(s=e.getNeighboringCells(t),r=!1,s.forEach((function(e){e===c&&(r=!0)})),r)return"continue";l[c]="b",a++}};a<this.state.bombCount;){var r;c()}for(var i=0;i<n;i++)if("b"!==l[i]){var o=0;(s=this.getNeighboringCells(i)).forEach((function(e){"b"===l[e]&&o++})),o>0&&(l[i]=o.toString())}return this.setAsyncState({cellContents:l})}},{key:"cellFlag",value:function(e){if(!this.state.cellsRevealed[e]){var t=this.state.cellsFlaged;t[e]=!t[e],this.setState({cellsFlaged:t})}}},{key:"gameOver",value:function(){var e=this.state.rowsNum*this.state.colsNum;this.setState({cellsRevealed:Array(e).fill(!0),gameOver:!0})}},{key:"resetGame",value:function(){var e=this.state.rowsNum*this.state.colsNum;this.setState({cellContents:Array(e).fill(""),cellsRevealed:Array(e).fill(!1),cellsFlaged:Array(e).fill(!1),contentGenerated:!1,gameOver:!1})}},{key:"openMenu",value:function(){this.setState({menuOpen:!0})}},{key:"closeMenu",value:function(){this.setState({menuOpen:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},this.state.menuOpen?l.a.createElement("div",{className:"menu"},l.a.createElement("header",{className:"header header--flex-start"},l.a.createElement("div",{className:"button",onClick:this.closeMenu.bind(this)},l.a.createElement(v.a,{icon:b.f}))),l.a.createElement("div",{className:"menu__body"},l.a.createElement("h2",null,"Set difficulty"),l.a.createElement("div",{className:"menu__option__group"},l.a.createElement("div",{className:"menu__option",onClick:function(){e.setDifficulty.bind(e)(10)}},l.a.createElement("span",null,"Easy"),l.a.createElement("span",null,"10 ",l.a.createElement(v.a,{icon:b.b}))),l.a.createElement("div",{className:"menu__option",onClick:function(){e.setDifficulty.bind(e)(15)}},l.a.createElement("span",null,"Medium"),l.a.createElement("span",null,"15 ",l.a.createElement(v.a,{icon:b.b}))),l.a.createElement("div",{className:"menu__option",onClick:function(){e.setDifficulty.bind(e)(30)}},l.a.createElement("span",null,"Hard"),l.a.createElement("span",null,"30 ",l.a.createElement(v.a,{icon:b.b}))),l.a.createElement("div",{className:"menu__option",onClick:function(){e.setDifficulty.bind(e)(45)}},l.a.createElement("span",null,"Insane"),l.a.createElement("span",null,"45 ",l.a.createElement(v.a,{icon:b.b})))))):null,l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"button",onClick:this.openMenu.bind(this)},l.a.createElement(v.a,{icon:b.a})),l.a.createElement("div",{className:"button button--expanded",onClick:this.resetGame.bind(this)},this.state.gameOver?l.a.createElement(v.a,{icon:b.c}):l.a.createElement(v.a,{icon:b.e})),l.a.createElement("div",{className:"button button--invisible"},l.a.createElement(v.a,{icon:b.a}))),l.a.createElement("div",{className:"grid-wrapper"},l.a.createElement("main",{className:"grid",ref:this.gridRef},this.renderGrid.bind(this)())))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.c16bc0b9.chunk.js.map