(this["webpackJsonpminesweeper-react-100daysofcode"]=this["webpackJsonpminesweeper-react-100daysofcode"]||[]).push([[0],{15:function(e,t,s){e.exports=s(29)},20:function(e,t,s){},22:function(e,t,s){},23:function(e,t,s){},29:function(e,t,s){"use strict";s.r(t);var n=s(1),l=s.n(n),a=s(12),c=s.n(a),r=(s(20),s(2)),i=s.n(r),o=s(9),u=s(3),h=s(4),m=s(6),d=s(5),f=s(7),C=(s(22),s(23),s(13)),b=s(14),p=function(e){function t(e){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"onCellClick",value:function(){this.props.cellClicked(this.props.cellIndex)}},{key:"renderContent",value:function(){return""===this.props.content?null:"b"===this.props.content?l.a.createElement(C.a,{icon:b.a}):l.a.createElement("span",null,this.props.content)}},{key:"render",value:function(){return l.a.createElement("div",{className:"cell "+(this.props.revealed?"cell--revealed ":""),onClick:this.onCellClick.bind(this)},this.renderContent())}}]),t}(n.Component),v=function(e){function t(e){var s;return Object(u.a)(this,t),(s=Object(m.a)(this,Object(d.a)(t).call(this,e))).setAsyncState=function(e){return new Promise((function(t){return s.setState(e,(function(){return t()}))}))},s.cellClicked=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.generateCellContents){e.next=4;break}return e.next=3,s.generateCellContents(t);case 3:s.setState({generateCellContents:!0});case 4:if(!1!==s.state.cellsRevealed[t]){e.next=10;break}return(n=s.state.cellsRevealed)[t]=!0,e.next=9,s.setAsyncState({cellsRevealed:n});case 9:s.checkCell(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.checkCell=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,l,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.state.cellsChecked.includes(t)){e.next=2;break}return e.abrupt("return",null);case 2:if("b"!==s.state.cellContents[t]){e.next=6;break}s.gameOver(),e.next=18;break;case 6:if(""!==s.state.cellContents[t]){e.next=18;break}return n=s.state.rowsNum*s.state.colsNum,l=t-s.state.colsNum,a=t+s.state.colsNum,(c=s.state.cellsChecked).push(t),e.next=14,s.setAsyncState({cellsChecked:c});case 14:l>0&&((t+1)%s.state.colsNum!==1&&"b"!==s.state.cellContents[l-1]&&s.cellClicked(l-1),"b"!==s.state.cellContents[l]&&s.cellClicked(l),(t+1)%s.state.colsNum!==0&&"b"!==s.state.cellContents[l+1]&&s.cellClicked(l+1)),(t+1)%s.state.colsNum!==1&&"b"!==s.state.cellContents[t-1]&&s.cellClicked(t-1),(t+1)%s.state.colsNum!==0&&"b"!==s.state.cellContents[t+1]&&s.cellClicked(t+1),a<n&&((t+1)%s.state.colsNum!==1&&"b"!==s.state.cellContents[a-1]&&s.cellClicked(a-1),"b"!==s.state.cellContents[a]&&s.cellClicked(a),(t+1)%s.state.colsNum!==0&&"b"!==s.state.cellContents[a+1]&&s.cellClicked(a+1));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={cellContents:[],cellsRevealed:[],cellsChecked:[],bombCount:40,contentGenerated:!1,colsNum:10,rowsNum:18},s.gridRef=l.a.createRef(),s}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.rowsNum*this.state.colsNum;this.gridRef.current.style.setProperty("--larger-dimension",this.state.rowsNum),this.gridRef.current.style.setProperty("--smaller-dimension",this.state.colsNum),this.setState({cellContents:Array(e).fill(""),cellsRevealed:Array(e).fill(!1)})}},{key:"renderGrid",value:function(){for(var e=[],t=0;t<this.state.colsNum*this.state.rowsNum;t++)e.push(l.a.createElement(p,{cellClicked:this.cellClicked.bind(this),content:this.state.cellContents[t],revealed:this.state.cellsRevealed[t],cellIndex:t,key:t}));return e}},{key:"generateCellContents",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.rowsNum*this.state.colsNum,s=0,n=Array(t).fill("");s<this.state.bombCount;){var l=Math.floor(Math.random()*t);if("b"!==n[l])if(null===e)n[l]="b",s++;else{var a=e-this.state.colsNum,c=e+this.state.colsNum;if(l==e)continue;if(a>0){if((e+1)%this.state.colsNum!==1&&a-1===l)continue;if(a===l)continue;if((e+1)%this.state.colsNum!==0&&a+1===l)continue}if((e+1)%this.state.colsNum!==1&&e-1===l)continue;if((e+1)%this.state.colsNum!==0&&e+1===l)continue;if(c<t){if((e+1)%this.state.colsNum!==1&&c-1===l)continue;if(c===l)continue;if((e+1)%this.state.colsNum!==0&&c+1===l)continue}n[l]="b",s++}}for(var r=0;r<t;r++){var i=0;a=r-this.state.colsNum,c=r+this.state.colsNum;"b"!==n[r]&&(a>0&&((r+1)%this.state.colsNum!==1&&(i+="b"===n[a-1]?1:0),i+="b"===n[a]?1:0,(r+1)%this.state.colsNum!==0&&(i+="b"===n[a+1]?1:0)),(r+1)%this.state.colsNum!==1&&(i+="b"===n[r-1]?1:0),(r+1)%this.state.colsNum!==0&&(i+="b"===n[r+1]?1:0),c<t&&((r+1)%this.state.colsNum!==1&&(i+="b"===n[c-1]?1:0),i+="b"===n[c]?1:0,(r+1)%this.state.colsNum!==0&&(i+="b"===n[c+1]?1:0)),i>0&&(n[r]=i.toString()))}return this.setAsyncState({cellContents:n})}},{key:"gameOver",value:function(){var e=this.state.rowsNum*this.state.colsNum;this.setState({cellsRevealed:Array(e).fill(!0)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"Minesweeper")),l.a.createElement("div",{className:"grid-wrapper"},l.a.createElement("main",{className:"grid",ref:this.gridRef},this.renderGrid.bind(this)())))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.86f7aa83.chunk.js.map